<%- include('./partials/header') %> 
<%- include('./partials/navbar') %> 

<div class="galaxy-div">

    <div class="galaxy-image-container">
        <h2 class="galaxy-galaxy-name"><%= galaxy.name %></h2>
        <img src="<%=galaxy.image%>" alt="Galaxy">

           <div class="point-of-interest-8 point-of-interest" title="Click for details" data-tab-target="#index-0"></div>
           <div class="point-of-interest-12 point-of-interest" title="Click for details" data-tab-target="#index-1"></div>
           <div class="point-of-interest-14 point-of-interest" title="Click for details" data-tab-target="#index-2"></div>
           <div class="point-of-interest-1 point-of-interest" title="Click for details" data-tab-target="#index-3"></div>
           <div class="point-of-interest-2 point-of-interest" title="Click for details" data-tab-target="#index-4"></div>
           <div class="point-of-interest-3 point-of-interest" title="Click for details" data-tab-target="#index-5"></div>
    </div>

    <% galaxy.event.forEach((event, index) => { %> 
        <div id="index-<%=index%>" class="galaxy-event-container step-inactive">
            <h2 class="galaxy-event-title"><%=event.name%></h2>
            <img src="<%=event.image%>" alt="Planet" class="galaxy-event-image">
            <p>Location: <%=event.location%></p>
            <p>Description: <%=event.description%></p>
            <p>Equipment: <%=event.equipment%></p>
            <p>Health: <%=event.health%></p>
            <a href="/jump/<%=galaxy.name%>/logs/<%=event.name%>?intent=compose" class="galaxy-compose-log-link">Compose log</a>
            <a href="/jump/<%=galaxy.name%>/logs/<%=event.name%>" class="galaxy-compose-log-link">Scan existing logs</a>
        </div>
    <% }) %>

</div>

<script>
const tabs = document.querySelectorAll('[data-tab-target]')
const sections = document.querySelectorAll('.galaxy-event-container')

tabs.forEach(tab =>
    tab.addEventListener('click', function() {

        const target = document.querySelector(tab.dataset.tabTarget)
        sections.forEach(function (section) {
            section.classList.add('step-inactive')
            section.classList.remove('step-active')
        })    
        tab.classList.add('steps-background')
        target.classList.remove('step-inactive')
        target.classList.add('step-active')
        
    })
)
</script>

<%- include('./partials/footer') %> 