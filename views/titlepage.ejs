<%- include('./partials/header') %> 
<div class="title-page">
    <div class="titlepage-stardate-div" data-aos="fade-down">
        <h1 class="titlepage-stardate-title">RETRIEVING CURRENT STARDATE ...</h1>
        <img class="titlepage-stardate-loader" src="/images/loader-1.svg">
    </div>

    <div class="titlepage-title-and-subtitle-div">
        <h1 class="titlepage-title">Captain's Blog</h1>
        <h2 class="titlepage-subtitle">Star date:  <span class="titlepage-current-stardate">   </span> </h2>

        <div class="titlepage-link-div">
            <a class="titlepage-link" href="/home">Embark</a>
        </div>
    </div>
</div>


<script>
    let stardate = document.querySelector('.titlepage-current-stardate')
    let stardateDiv = document.querySelector('.titlepage-stardate-div')
    let homeTitleAndSubtitleDiv = document.querySelector('.titlepage-title-and-subtitle-div')
    

    let getStardate = async function() {
        const response = await fetch('https://stardateapi.herokuapp.com/api/csd')
        const data = await response.json()
        setInterval(() => {
            stardateDiv.style.display = "none"
            stardate.textContent = data.a
            homeTitleAndSubtitleDiv.style.display = "block"
            homeTitleAndSubtitleDiv.style.animation = "title-fade-in 1200ms ease-in"
        }, 2500)
        
    }

    getStardate() 
</script>

<%- include('./partials/footer') %> 